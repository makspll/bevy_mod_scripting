<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Virtual - Bevy Scripting</title>


        <!-- Custom HTML head -->

        <meta name="description" content="Documentation for the Bevy Scripting library">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../../";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Bevy Scripting</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/makspll/bevy_mod_scripting" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/makspll/bevy_mod_scripting/edit/main/docs/src/core_bindings/types/virtual.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="virtual"><a class="header" href="#virtual"><code>Virtual</code></a></h1>
<h3 id="virtual-1"><a class="header" href="#virtual-1">Virtual</a></h3>
<ul>
<li><strong>max_delta</strong>:bevy_utils::Duration</li>
<li><strong>paused</strong>:bool</li>
<li><strong>relative_speed</strong>:f64</li>
<li><strong>effective_speed</strong>:f64</li>
</ul>
<h2 id="description"><a class="header" href="#description">Description</a></h2>
<blockquote>
<p>The virtual game clock representing game time.</p>
<p>A specialization of the [<code>Time</code>] structure. <strong>For method documentation, see
[<code>Time&lt;Virtual&gt;#impl-Time&lt;Virtual&gt;</code>].</strong></p>
<p>Normally used as <code>Time&lt;Virtual&gt;</code>. It is automatically inserted as a resource
by <a href="crate::TimePlugin"><code>TimePlugin</code></a> and updated based on
<a href="Real"><code>Time&lt;Real&gt;</code></a>. The virtual clock is automatically set as the default
generic [<code>Time</code>] resource for the update.</p>
<p>The virtual clock differs from real time clock in that it can be paused, sped up
and slowed down. It also limits how much it can advance in a single update
in order to prevent unexpected behavior in cases where updates do not happen
at regular intervals (e.g. coming back after the program was suspended a long time).</p>
<p>The virtual clock can be paused by calling <a href="Time::pause"><code>pause()</code></a> and
unpaused by calling <a href="Time::unpause"><code>unpause()</code></a>. When the game clock is
paused <a href="Time::delta"><code>delta()</code></a> will be zero on each update, and
<a href="Time::elapsed"><code>elapsed()</code></a> will not grow.
<a href="Time::effective_speed"><code>effective_speed()</code></a> will return <code>0.0</code>. Calling
<a href="Time::pause"><code>pause()</code></a> will not affect value the <a href="Time::delta"><code>delta()</code></a>
value for the update currently being processed.</p>
<p>The speed of the virtual clock can be changed by calling
<a href="Time::set_relative_speed"><code>set_relative_speed()</code></a>. A value of <code>2.0</code> means
that virtual clock should advance twice as fast as real time, meaning that
<a href="Time::delta"><code>delta()</code></a> values will be double of what
<a href="Time::delta"><code>Time&lt;Real&gt;::delta()</code></a> reports and
<a href="Time::elapsed"><code>elapsed()</code></a> will go twice as fast as
<a href="Time::elapsed"><code>Time&lt;Real&gt;::elapsed()</code></a>. Calling
<a href="Time::set_relative_speed"><code>set_relative_speed()</code></a> will not affect the
<a href="Time::delta"><code>delta()</code></a> value for the update currently being processed.</p>
<p>The maximum amount of delta time that can be added by a single update can be
set by <a href="Time::set_max_delta"><code>set_max_delta()</code></a>. This value serves a dual
purpose in the virtual clock.</p>
<p>If the game temporarily freezes due to any reason, such as disk access, a
blocking system call, or operating system level suspend, reporting the full
elapsed delta time is likely to cause bugs in game logic. Usually if a
laptop is suspended for an hour, it doesn't make sense to try to simulate
the game logic for the elapsed hour when resuming. Instead it is better to
lose the extra time and pretend a shorter duration of time passed. Setting
<a href="Time::max_delta"><code>max_delta()</code></a> to a relatively short time means that the
impact on game logic will be minimal.</p>
<p>If the game lags for some reason, meaning that it will take a longer time to
compute a frame than the real time that passes during the computation, then
we would fall behind in processing virtual time. If this situation persists,
and computing a frame takes longer depending on how much virtual time has
passed, the game would enter a "death spiral" where computing each frame
takes longer and longer and the game will appear to freeze. By limiting the
maximum time that can be added at once, we also limit the amount of virtual
time the game needs to compute for each frame. This means that the game will
run slow, and it will run slower than real time, but it will not freeze and
it will recover as soon as computation becomes fast again.</p>
<p>You should set <a href="Time::max_delta"><code>max_delta()</code></a> to a value that is
approximately the minimum FPS your game should have even if heavily lagged
for a moment. The actual FPS when lagged will be somewhat lower than this,
depending on how much more time it takes to compute a frame compared to real
time. You should also consider how stable your FPS is, as the limit will
also dictate how big of an FPS drop you can accept without losing time and
falling behind real time.</p>
</blockquote>
<h2 id="associated-functions"><a class="header" href="#associated-functions">Associated Functions</a></h2>
<p>For function details and documentation, click on the function link.</p>
<div class="table-wrapper"><table><thead><tr><th>Function</th><th>Summary</th></tr></thead><tbody>
<tr><td><a href="./virtual/clone.html">clone</a></td><td>No Documentation ðŸš§</td></tr>
</tbody></table>
</div>
                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../core_bindings/types/timermode/assert_receiver_is_total_eq.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../../core_bindings/types/virtual/clone.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../core_bindings/types/timermode/assert_receiver_is_total_eq.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../../core_bindings/types/virtual/clone.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../elasticlunr.min.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../../multi-code-block.js"></script>


    </div>
    </body>
</html>
